import streamlit as st

# æŒ‡å°ãƒ‡ãƒ¼ã‚¿
guidance_data = {
    "æ—¥å¸¸ç”Ÿæ´»ã«ãŠã‘ã‚‹å®Ÿæ…‹": {
        "èº«è¾ºè‡ªç«‹ãŒæœªç†Ÿãªç”Ÿå¾’": {
            "è¡£æœã®ç€è„±ç·´ç¿’": [
                "å…·ä½“çš„æ•™æã®å°å…¥: å®Ÿéš›ã®ãƒœã‚¿ãƒ³ä»˜ãã‚·ãƒ£ãƒ„ã‚„ãƒ•ã‚¡ã‚¹ãƒŠãƒ¼ã‚’å–ã‚Šä»˜ã‘ãŸãƒ‘ãƒãƒ«æ•™æã‚’ä½¿ã„ã€ç¹°ã‚Šè¿”ã—ç·´ç¿’ã™ã‚‹ã€‚",
                "æ®µéšçš„æŒ‡å°: ã¾ãšã¯ã€Œè¢–ã«æ‰‹ã‚’é€šã™ã€ã€Œãƒœã‚¿ãƒ³ã‚’ã¤ã¾ã‚€ã€ãªã©ç°¡å˜ãªã‚¹ãƒ†ãƒƒãƒ—ã«åˆ†ã‘ã€ä¸€ã¤ãšã¤ç·´ç¿’ã‚’é€²ã‚ã‚‹ã€‚",
                "è¦–è¦šæ”¯æ´ã®æ´»ç”¨: ç€æ›¿ãˆã®é †åºã‚’ã‚¤ãƒ©ã‚¹ãƒˆã‚„å†™çœŸã§ç¤ºã—ã€è¦‹é€šã—ã‚’æŒãŸã›ã‚‹ã€‚",
                "å®Ÿè·µçš„ç·´ç¿’: æ¯æœã®ç™»æ ¡å¾Œã‚„ä½“è‚²ã®å¾Œãªã©ã€å®Ÿéš›ã®ç”Ÿæ´»å ´é¢ã§ã®ç·´ç¿’ã‚’å–ã‚Šå…¥ã‚Œã‚‹ã€‚",
            ]
        }
    },
    "éšœå®³ã®ç¨®é¡": {
        "è´è¦šéšœå®³": {
            "ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ”¯æ´": [
                {
                    "title": "æ‰‹è©±ã®ç·´ç¿’: æ‰‹è©±ã‚’ä½¿ã£ã¦ã€è‡ªå·±ç´¹ä»‹ã‚„æ—¥å¸¸ä¼šè©±ã‚’å­¦ã¶ã€‚",
                    "details": [
                        "å ´é¢è¨­å®šã‚’é‡è¦–ã—ãŸç·´ç¿’: é£Ÿäº‹ã®å ´é¢ã§ã€Œã”ã¯ã‚“ã€ã€ŒãŠã‹ã‚ã‚Šã€ãªã©ã®æ‰‹è©±ã‚’å­¦ã¶ã€‚å­¦æ ¡ã‚„å®¶ã§é »ç¹ã«ä½¿ã†ãƒ•ãƒ¬ãƒ¼ã‚ºã‹ã‚‰å§‹ã‚ã‚‹ã€‚",
                        "ã‚²ãƒ¼ãƒ å½¢å¼ã®ç·´ç¿’: æ‰‹è©±ã§ã—ã‚Šã¨ã‚Šã‚„ã€Œã€‡ã€‡ã¯ã©ã“ï¼Ÿã€ã®ã‚ˆã†ãªã‚¯ã‚¤ã‚ºã‚’è¡Œã„ã€æ¥½ã—ãç¿’å¾—ã§ãã‚‹ç’°å¢ƒã‚’æä¾›ã™ã‚‹ã€‚",
                        "å®¶æ—ã¨ã®é€£æº: å®¶åº­ã§ã‚‚æ‰‹è©±ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã€ä¿è­·è€…å‘ã‘ã®ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã‚’å®Ÿæ–½ã—ã€å…±é€šã®è¡¨ç¾æ–¹æ³•ã‚’å¢—ã‚„ã™ã€‚",
                    ],
                },
                "ã‚¸ã‚§ã‚¹ãƒãƒ£ãƒ¼æ´»ç”¨: è¦–è¦šçš„ãªå‹•ãã§æ„æ€ã‚’ä¼ãˆã‚‹ç·´ç¿’ï¼ˆä¾‹: ã€Œé£²ã¿ãŸã„ã€ã€Œè¡ŒããŸã„ã€ãªã©ï¼‰ã€‚",
                "æŒ‡æ–‡å­—ç·´ç¿’: æ‰‹è©±ã«åŠ ãˆã€æŒ‡æ–‡å­—ã‚’æ´»ç”¨ã™ã‚‹å ´é¢ã‚’è¨­å®šã€‚",
                "ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã§ã®ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³: éŸ³å£°å…¥åŠ›ã‹ã‚‰æ–‡å­—è¡¨ç¤ºã‚’æ´»ç”¨ã—ãŸã‚¢ãƒ—ãƒªã§ã®æ„æ€ç–é€šã€‚",
            ],
        },
    },
}

# Streamlitã‚¢ãƒ—ãƒª
st.title("æŒ‡å°æ”¯æ´å†…å®¹ã®å‚ç…§")

menu = st.sidebar.selectbox("ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é¸æŠã—ã¦ãã ã•ã„", ["æŒ‡å°æ”¯æ´å†…å®¹"])

# æŒ‡å°æ”¯æ´å†…å®¹è¡¨ç¤º
if menu == "æŒ‡å°æ”¯æ´å†…å®¹":
    st.subheader("ğŸ“š æŒ‡å°æ”¯æ´å†…å®¹ã®å‚ç…§")
    st.text("1ã‹ã‚‰é †ç•ªã«é¸æŠã—ã¦ãã ã•ã„")

    # ã‚«ãƒ†ã‚´ãƒªãƒ¼é¸æŠ
    selected_category = st.selectbox("1. ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚’é¸æŠã—ã¦ãã ã•ã„:", list(guidance_data.keys()))
    # ã‚µãƒ–ã‚«ãƒ†ã‚´ãƒªãƒ¼é¸æŠ
    selected_subcategory = st.selectbox(
        "2. è©²å½“ã™ã‚‹é …ç›®ã‚’é¸æŠã—ã¦ãã ã•ã„:", list(guidance_data[selected_category].keys())
    )

    # è¾æ›¸ã‹ãƒªã‚¹ãƒˆã‹ã‚’ç¢ºèªã—ã¦å‡¦ç†
    if isinstance(guidance_data[selected_category][selected_subcategory], dict):
        selected_detail = st.selectbox(
            "3. å…·ä½“çš„ãªæ”¯æ´å†…å®¹ã‚’é¸æŠã—ã¦ãã ã•ã„:",
            list(guidance_data[selected_category][selected_subcategory].keys())
        )
    elif isinstance(guidance_data[selected_category][selected_subcategory], list):
        selected_detail = st.selectbox(
            "3. å…·ä½“çš„ãªæ”¯æ´å†…å®¹ã‚’é¸æŠã—ã¦ãã ã•ã„:",
            guidance_data[selected_category][selected_subcategory]
        )
    else:
        st.error("ä¸æ˜ãªãƒ‡ãƒ¼ã‚¿å½¢å¼ã§ã™ã€‚")
        selected_detail = None

    # å†…å®¹è¡¨ç¤º
    if selected_detail and st.button("é©ã—ãŸæŒ‡å°ãƒ»æ”¯æ´ã‚’è¡¨ç¤º"):
        st.subheader("ğŸ“Œ é©ã—ãŸæŒ‡å°ãƒ»æ”¯æ´")
        # çµæœã®æ•´å½¢
        if isinstance(guidance_data[selected_category][selected_subcategory], dict):
            detail = guidance_data[selected_category][selected_subcategory][selected_detail]
        else:
            detail = selected_detail

        # ãƒªã‚¹ãƒˆå½¢å¼ã§ã‚ã‚Œã°æ”¹è¡Œã—ã¦è¡¨ç¤º
        if isinstance(detail, list):
            formatted_detail = "\n".join([f"- {item}" for item in detail])
        else:
            formatted_detail = detail

        # ç›´æ¥è¡¨ç¤º
        st.markdown(f"**{selected_detail}**:  \n{formatted_detail}")

    # å…·ä½“çš„ãªæ”¯æ´å†…å®¹ã®è¡¨ç¤ºï¼ˆè©³ç´°ãƒœã‚¿ãƒ³ä»˜ãï¼‰
    for item in guidance_data[selected_category][selected_subcategory]:
        if isinstance(item, dict):  # è©³ç´°ã‚’æŒã¤é …ç›®ã®å ´åˆ
            st.markdown(f"**{item['title']}**")
            with st.expander("è©³ç´°ã‚’è¦‹ã‚‹"):
                for detail in item["details"]:
                    st.write(f"- {detail}")
        else:  # æ–‡å­—åˆ—ã®é …ç›®ã®å ´åˆ
            st.write(f"- {item}")
